<!doctype html>
<html lang="{{ request.locale.iso_code }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  
  {%- if page_description -%}
    <meta name="description" content="{{ page_description | escape }}">
  {%- endif -%}
  
  <link rel="canonical" href="{{ canonical_url }}">
  
  {%- if settings.favicon != blank -%}
    <link rel="icon" type="image/png" href="{{ settings.favicon | img_url: '32x32' }}">
  {%- endif -%}
  
  <title>
    {{ page_title }}
    {%- if current_tags %} &ndash; {{ 'general.meta.tags' | t: tags: current_tags.join(', ') }}{% endif -%}
    {%- if current_page != 1 %} &ndash; {{ 'general.meta.page' | t: page: current_page }}{% endif -%}
    {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
  </title>
  
  {% render 'meta-tags' %}
  
  {{ content_for_header }}
  
  <link rel="stylesheet" href="{{ 'custom-barnhaus.css' | asset_url }}">
  
  <script>
    window.theme = {
      routes: {
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
        cart_update_url: '{{ routes.cart_update_url }}',
        cart_url: '{{ routes.cart_url }}'
      },
      strings: {
        addToCart: {{ 'products.product.add_to_cart' | t | json }},
        soldOut: {{ 'products.product.sold_out' | t | json }},
        unavailable: {{ 'products.product.unavailable' | t | json }}
      },
      moneyFormat: {{ shop.money_format | json }},
      cartCount: {{ cart.item_count }}
    };
  </script>
</head>

<body class="template-{{ template.name }}">
  
  <!-- Header -->
  <header class="site-header" id="site-header">
    <div class="header-container">
      <!-- Logo -->
      <div class="header-logo">
        <a href="/" class="logo-link">
          <img src="https://hbfjdfxephlczkfgpceg.supabase.co/storage/v1/object/public/website/logos/logo1.png" 
               alt="Barnhaus Steel Builders" 
               class="logo-image"
               style="max-height: 60px; width: auto;">
        </a>
      </div>
      
      <!-- Navigation -->
      <nav class="header-nav">
        <ul class="nav-list">
          <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
          <li class="nav-item"><a href="/pages/plans" class="nav-link">Catalog</a></li>
          <li class="nav-item"><a href="https://3d.barnhaussteelbuilders.com" class="nav-link" target="_blank">Concept Studio</a></li>
        </ul>
      </nav>
      
      <!-- Header Icons -->
      <div class="header-icons">
        <!-- Search Icon -->
        <button class="header-icon" onclick="openSearchModal()" aria-label="Search">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
        </button>
        
        <!-- Cart Icon -->
        <a href="/cart" class="header-icon cart-icon" aria-label="Cart">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6 14.667a.667.667 0 1 0 0-1.334.667.667 0 0 0 0 1.334ZM13.333 14.667a.667.667 0 1 0 0-1.334.667.667 0 0 0 0 1.334ZM.667 1.333H3.333l1.787 8.934a1.333 1.333 0 0 0 1.333 1.066h6.487a1.333 1.333 0 0 0 1.333-1.066L15 4.667H4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          {%- if cart.item_count > 0 -%}
            <span class="cart-count" id="cart-count">{{ cart.item_count }}</span>
          {%- endif -%}
        </a>
      </div>
      
      <!-- Mobile Menu Toggle -->
      <button class="mobile-menu-toggle" aria-label="Menu" id="mobile-menu-toggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    
    <!-- Mobile Navigation -->
    <nav class="mobile-nav" id="mobile-nav">
      <ul class="mobile-nav-list">
        <li class="mobile-nav-item"><a href="/" class="mobile-nav-link">Home</a></li>
        <li class="mobile-nav-item"><a href="/pages/plans" class="mobile-nav-link">Catalog</a></li>
        <li class="mobile-nav-item"><a href="https://3d.barnhaussteelbuilders.com" class="mobile-nav-link" target="_blank">Concept Studio</a></li>
        <li class="mobile-nav-item"><button class="mobile-nav-link" onclick="openSearchModal()" style="background: none; border: none; width: 100%; text-align: left; cursor: pointer;">Search</button></li>
      </ul>
    </nav>
  </header>
  
  <!-- Main Content -->
  <main class="main-content" id="main-content" role="main">
    {{ content_for_layout }}
  </main>
  
  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-grid">
        <!-- Company Info -->
        <div class="footer-column">
          <h3 class="footer-heading">Barnhaus Steel Builders</h3>
          <p class="footer-text">
            Premium steel building solutions crafted with precision and excellence. 
            Building your vision with strength and quality.
          </p>
        </div>
        
        <!-- Quick Links -->
        <div class="footer-column">
          <h3 class="footer-heading">Quick Links</h3>
          <ul class="footer-links">
            <li><a href="/" class="footer-link">Home</a></li>
            <li><a href="/collections/all" class="footer-link">Catalog</a></li>
            <li><a href="/pages/about" class="footer-link">About Us</a></li>
            <li><a href="/pages/contact" class="footer-link">Contact</a></li>
          </ul>
        </div>
        
        <!-- Customer Service -->
        <div class="footer-column">
          <h3 class="footer-heading">Customer Service</h3>
          <ul class="footer-links">
            <li><a href="/pages/shipping" class="footer-link">Shipping Information</a></li>
            <li><a href="/pages/returns" class="footer-link">Returns & Exchanges</a></li>
            <li><a href="/pages/faq" class="footer-link">FAQ</a></li>
            <li><a href="/pages/privacy" class="footer-link">Privacy Policy</a></li>
          </ul>
        </div>
        
        <!-- Contact Info -->
        <div class="footer-column">
          <h3 class="footer-heading">Get In Touch</h3>
          <ul class="footer-contact">
            <li class="footer-text">Email: info@barnhaussteel.com</li>
            <li class="footer-text">Phone: (555) 123-4567</li>
            <li class="footer-text">Hours: Mon-Fri 8AM-6PM</li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p class="footer-copyright">
          &copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.
        </p>
      </div>
    </div>
  </footer>
  
  <!-- Search Modal -->
  {% render 'search-modal' %}
  
  <!-- Scripts -->
  <script>
    // Mobile menu toggle
    document.addEventListener('DOMContentLoaded', function() {
      const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
      const mobileNav = document.getElementById('mobile-nav');
      
      if (mobileMenuToggle) {
        mobileMenuToggle.addEventListener('click', function() {
          this.classList.toggle('active');
          mobileNav.classList.toggle('active');
          document.body.classList.toggle('mobile-menu-open');
        });
      }
      
      // Close mobile menu when clicking a link
      const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
      mobileNavLinks.forEach(function(link) {
        link.addEventListener('click', function() {
          mobileMenuToggle.classList.remove('active');
          mobileNav.classList.remove('active');
          document.body.classList.remove('mobile-menu-open');
        });
      });
    });
    
    // Cart functionality
    function updateCartCount(count) {
      const cartCountElement = document.getElementById('cart-count');
      if (cartCountElement) {
        cartCountElement.textContent = count;
        if (count > 0) {
          cartCountElement.style.display = 'flex';
        } else {
          cartCountElement.style.display = 'none';
        }
      }
    }
  </script>
</body>
</html>

